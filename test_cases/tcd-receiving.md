# Тест-кейсы: Модуль приемки товара в ТСД

**Назначение:** Проверка функциональности приемки товара на склад через Терминал Сбора Данных (ТСД).
**Окружение:** ТСД на Android, версия ОС 8.0+, приложение v2.1.0
---

## Список тест-кейсов

### **RECEIVE-01: Успешное получение задания на приемку**

**Предусловия:**
1. Пользователь авторизован в ТСД.
2. В системе существует задание на приемку для текущего пользователя.

**Шаги:**
1. На главном экране нажать кнопку "Приемка".
2. Дождаться загрузки списка заданий.

**Ожидаемый результат:**
*   Отображается список заданий на приемку с номерами, статусами и количеством позиций.
*   Для каждого задания отображается номер поставки, поставщик, планируемое количество паллет.
*   Статус: **ПРОЙДЕН**

---

### **RECEIVE-02: Начало выполнения задания на приемку**

**Предусловия:**
1. Пользователь находится в списке заданий на приемку.

**Шаги:**
1. Выбрать задание со статусом "Новое".
2. Нажать кнопку "Начать приемку".

**Ожидаемый результат:**
*   Открывается экран сканирования товара.
*   Статус задания меняется на "В работе".
*   Доступны поля для сканирования штрихкода и ввода количества.
*   Статус: **ПРОЙДЕН**

---

### **RECEIVE-03: Сканирование валидного товара**

**Предусловия:**
1. Пользователь начал выполнение задания на приемку.
2. Товар с штрихкодом `4601234567890` есть в задании.

**Шаги:**
1. Нажать на поле "Сканировать штрихкод".
2. Отсканировать штрихкод `4601234567890` с коробки.

**Ожидаемый результат:**
*   Система издает положительный звуковой сигнал.
*   В поле "Штрихкод" отображается `4601234567890`.
*   Автоматически подставляется название товара:.
*   Поле "Количество" получает фокус, значение по умолчанию "1".
*   Статус: **ПРОЙДЕН**

---

### **RECEIVE-04: Сканирование товара, не входящего в задание**

**Предусловия:**
1. Пользователь начал выполнение задания на приемку.

**Шаги:**
1. Отсканировать штрихкод `9999999999999` (отсутствует в задании).

**Ожидаемый результат:**
*   Система издает отрицательный звуковой сигнал.
*   Появляется сообщение: "Товар не найден в текущем задании".
*   Поля не заполняются.
*   Статус: **ПРОЙДЕН**

---

### **RECEIVE-05: Приемка товара с изменением количества**

**Предусловия:**
1. Товар отсканирован успешно (RECEIVE-03).

**Шаги:**
1. В поле "Количество" ввести `5`.
2. Нажать кнопку "Подтвердить".

**Ожидаемый результат:**
*   Данные сохраняются локально.
*   Позиция добавляется в список "Принятые товары".
*   Счетчик "Принято" увеличивается на 5.
*   Поля сканирования и количества очищаются для ввода следующей позиции.
*   Статус: **ПРОЙДЕН**

---

### **RECEIVE-06: Приемка партии товаров**

**Предусловия:**
1. Задание содержит 3 различные позиции.

**Шаги:**
1. Последовательно отсканировать и подтвердить прием всех 3 позиций.
2. Нажать кнопку "Завершить приемку".

**Ожидаемый результат:**
*   После сканирования всех позиций кнопка "Завершить приемку" становится активной.
*   При нажатии данные синхронизируются с сервером.
*   Появляется сообщение "Приемка завершена успешно".
*   Статус задания меняется на "Завершено".
*   Пользователь возвращается к списку заданий.
*   Статус: **ПРОЙДЕН**

---

### **RECEIVE-07: Приемка с расхождением по количеству**

**Предусловия:**
1. В задании указано 10 единиц товара `4601234567890`.
2. Фактически прибыло 8 единиц.

**Шаги:**
1. Отсканировать товар `4601234567890`.
2. В поле "Количество" ввести `8`.
3. Нажать "Подтвердить".
4. Завершить приемку.

**Ожидаемый результат:**
*   Система предлагает выбрать причину расхождения: "Недостача", "Брак", "Пересорт".
*   После выбора причины данные успешно сохраняются.
*   В отчете о приемке фиксируется расхождение.
*   Статус задания "Завершено с расхождениями".
*   Статус: **ПРОЙДЕН**

---

### **RECEIVE-08: Приемка товара с вводом серийного номера**

**Предусловия:**
1. Задание содержит товар, требующий учет по серийным номерам.

**Шаги:**
1. Отсканировать штрихкод товара.
2. Ввести серийный номер вручную или сканером.
3. Подтвердить прием.

**Ожидаемый результат:**
*   После сканирования штрихкода появляется поле для ввода серийного номера.
*   Серийный номер сохраняется в системе и привязывается к товару.
*   Статус: **ПРОЙДЕН**

---

### **RECEIVE-09: Приемка товара при потере связи**

**Предусловия:**
1. Пользователь начал приемку товара.

**Шаги:**
1. Отключить Wi-Fi на ТСД.
2. Отсканировать и подтвердить прием 2-3 позиций.
3. Нажать "Завершить приемку".
4. Включить Wi-Fi.

**Ожидаемый результат:**
*   Данные о приемке кешируются локально.
*   При нажатии "Завершить" появляется сообщение "Ожидание соединения".
*   После восстановления связи данные автоматически отправляются на сервер.
*   Статус: **ПРОЙДЕН**

---

### **RECEIVE-10: Проверка отображения принятых товаров**

**Предусловия:**
1. В рамках задания принято несколько позиций.

**Шаги:**
1. Во время приемки нажать кнопку "Список принятого".

**Ожидаемый результат:**
*   Отображается список всех принятых в рамках задания товаров.
*   Для каждой позиции указан штрихкод, название, количество, время приемки.
*   Доступна возможность редактирования количества или удаления позиции.
*   Статус: **ПРОЙДЕН**
